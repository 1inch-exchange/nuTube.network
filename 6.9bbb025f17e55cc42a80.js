(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{RH4o:function(l,n,u){"use strict";u.r(n);var e=u("keVe"),o=function(){return function(){}}(),t=u("fYis"),i=u("mEgG"),a=u("1ob4"),s=u("6CUI"),r=u.n(s),c=function(){function l(l,n){this.navigationService=l,this.route=n,this.publishing=!1,this.connections=0}return Object.defineProperty(l.prototype,"mainVideoEl",{set:function(l){this.videoPlayer=l.nativeElement},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){this.navigationService.showBackButton=!0,this.id=this.route.snapshot.paramMap.get("id")},l.prototype.publish=function(){var l=this,n="NUTUBE_NETWORK_"+(this.id?this.id:Math.random().toString(36).substr(2,9));this.peer=new r.a(n),this.peer.on("open",function(){console.log("PeerID:",l.peer.id)}),this.peer.on("connection",function(l){l.on("data",function(l){console.log("Data from connection",l)})}),this.peer.on("error",function(l){console.error(l)}),this.peer.on("call",function(n){console.log("Income call",n),console.log("Stream",l.stream),l.connections++,l.connections<30?(n.answer(l.stream),n.on("stream",function(l){console.log("remoteStream",l)}),n.on("error",function(l){console.log("Error",l)}),n.on("close",function(){console.log("The videocall has finished"),l.connections--})):console.log("To many connections. Call declined!",l.connections)}),navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,navigator.getUserMedia({video:{width:{min:1024,ideal:1280,max:1920},height:{min:576,ideal:720,max:1080},facingMode:"user"},audio:!0},function(n){l.publishing=!0,l.videoPlayer.srcObject=n,l.videoPlayer.play(),l.stream=n},function(l){console.error("Failed to get local stream",l)})},l.prototype.stop=function(){this.peer.destroy(),this.publishing=!1,this.videoPlayer.pause(),this.stream.getTracks().map(function(l){l.stop()})},l}(),b=u("X+PR"),d=e.lb({encapsulation:0,styles:[[""]],data:{}});function v(l){return e.Bb(0,[e.yb(402653184,1,{mainVideoEl:0}),(l()(),e.nb(1,0,null,null,47,"div",[["class","container mt-4"]],null,null,null,null,null)),(l()(),e.nb(2,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),e.Ab(-1,null,["Start new live stream now:"])),(l()(),e.nb(4,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e.nb(5,0,null,null,43,"div",[["class","row justify-content-md-center"]],null,null,null,null,null)),(l()(),e.nb(6,0,null,null,42,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),e.nb(7,0,[[1,0],["videoPlayer",1]],null,1,"video",[["controls",""],["height","420"],["width","100%"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e.Ab(-1,null,[" Your browser does not support the video tag. "])),(l()(),e.nb(9,0,null,null,0,"hr",[],[[8,"hidden",0]],null,null,null,null)),(l()(),e.nb(10,0,null,null,38,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,u){var o=!0;return"submit"===n&&(o=!1!==e.wb(l,12).onSubmit(u)&&o),"reset"===n&&(o=!1!==e.wb(l,12).onReset()&&o),o},null,null)),e.mb(11,16384,null,0,i.g,[],null,null),e.mb(12,4210688,null,0,i.d,[[8,null],[8,null]],null,null),e.xb(2048,null,i.a,null,[i.d]),e.mb(14,16384,null,0,i.c,[[4,i.a]],null,null),(l()(),e.nb(15,0,null,null,28,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),e.nb(16,0,null,null,1,"label",[["class","col-sm-3 col-form-label"],["for","maxConnections"]],null,null,null,null,null)),(l()(),e.Ab(-1,null,["Max. connections"])),(l()(),e.nb(18,0,null,null,25,"div",[["class","col-sm-9"]],null,null,null,null,null)),(l()(),e.nb(19,0,null,null,24,"select",[["class","form-control"],["id","maxConnections"],["name","maxConnections"]],null,null,null,null,null)),(l()(),e.nb(20,0,null,null,3,"option",[["value","5"]],null,null,null,null,null)),e.mb(21,147456,null,0,i.e,[e.k,e.D,[8,null]],{value:[0,"value"]},null),e.mb(22,147456,null,0,i.i,[e.k,e.D,[8,null]],{value:[0,"value"]},null),(l()(),e.Ab(-1,null,["5"])),(l()(),e.nb(24,0,null,null,3,"option",[["value","10"]],null,null,null,null,null)),e.mb(25,147456,null,0,i.e,[e.k,e.D,[8,null]],{value:[0,"value"]},null),e.mb(26,147456,null,0,i.i,[e.k,e.D,[8,null]],{value:[0,"value"]},null),(l()(),e.Ab(-1,null,["10"])),(l()(),e.nb(28,0,null,null,3,"option",[["value","25"]],null,null,null,null,null)),e.mb(29,147456,null,0,i.e,[e.k,e.D,[8,null]],{value:[0,"value"]},null),e.mb(30,147456,null,0,i.i,[e.k,e.D,[8,null]],{value:[0,"value"]},null),(l()(),e.Ab(-1,null,["25"])),(l()(),e.nb(32,0,null,null,3,"option",[["value","50"]],null,null,null,null,null)),e.mb(33,147456,null,0,i.e,[e.k,e.D,[8,null]],{value:[0,"value"]},null),e.mb(34,147456,null,0,i.i,[e.k,e.D,[8,null]],{value:[0,"value"]},null),(l()(),e.Ab(-1,null,["50"])),(l()(),e.nb(36,0,null,null,3,"option",[["value","100"]],null,null,null,null,null)),e.mb(37,147456,null,0,i.e,[e.k,e.D,[8,null]],{value:[0,"value"]},null),e.mb(38,147456,null,0,i.i,[e.k,e.D,[8,null]],{value:[0,"value"]},null),(l()(),e.Ab(-1,null,["100"])),(l()(),e.nb(40,0,null,null,3,"option",[["value","250"]],null,null,null,null,null)),e.mb(41,147456,null,0,i.e,[e.k,e.D,[8,null]],{value:[0,"value"]},null),e.mb(42,147456,null,0,i.i,[e.k,e.D,[8,null]],{value:[0,"value"]},null),(l()(),e.Ab(-1,null,["250"])),(l()(),e.nb(44,0,null,null,4,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),e.nb(45,0,null,null,1,"button",[["class","btn btn-danger btn-lg"],["style","margin: 0 auto;"],["type","button"]],[[8,"hidden",0]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.publish()&&e),e},null,null)),(l()(),e.Ab(-1,null,["Start "])),(l()(),e.nb(47,0,null,null,1,"button",[["class","btn btn-dark btn-lg"],["style","margin: 0 auto;"],["type","button"]],[[8,"hidden",0]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.stop()&&e),e},null,null)),(l()(),e.Ab(-1,null,["Stop "]))],function(l,n){l(n,21,0,"5"),l(n,22,0,"5"),l(n,25,0,"10"),l(n,26,0,"10"),l(n,29,0,"25"),l(n,30,0,"25"),l(n,33,0,"50"),l(n,34,0,"50"),l(n,37,0,"100"),l(n,38,0,"100"),l(n,41,0,"250"),l(n,42,0,"250")},function(l,n){var u=n.component;l(n,7,0,!u.publishing),l(n,9,0,!u.publishing),l(n,10,0,e.wb(n,14).ngClassUntouched,e.wb(n,14).ngClassTouched,e.wb(n,14).ngClassPristine,e.wb(n,14).ngClassDirty,e.wb(n,14).ngClassValid,e.wb(n,14).ngClassInvalid,e.wb(n,14).ngClassPending),l(n,45,0,u.publishing),l(n,47,0,!u.publishing)})}function p(l){return e.Bb(0,[(l()(),e.nb(0,0,null,null,1,"app-publish",[],null,null,null,v,d)),e.mb(1,114688,null,0,c,[a.a,b.a],null,null)],function(l,n){l(n,1,0)},null)}var m=e.jb("app-publish",c,p,{},{},[]),g=u("TOqr"),h=u("KMzP"),f=function(){return function(){}}();u.d(n,"PublishModuleNgFactory",function(){return w});var w=e.kb(o,[],function(l){return e.tb([e.ub(512,e.j,e.ab,[[8,[t.a,m]],[3,e.j],e.x]),e.ub(4608,g.i,g.h,[e.u,[2,g.o]]),e.ub(4608,i.h,i.h,[]),e.ub(1073742336,g.b,g.b,[]),e.ub(1073742336,i.f,i.f,[]),e.ub(1073742336,i.b,i.b,[]),e.ub(1073742336,h.f,h.f,[]),e.ub(1073742336,b.n,b.n,[[2,b.t],[2,b.k]]),e.ub(1073742336,f,f,[]),e.ub(1073742336,o,o,[]),e.ub(1024,b.i,function(){return[[{path:"",component:c}]]},[])])})}}]);