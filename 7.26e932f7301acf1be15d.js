(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{VuTa:function(n,e,t){"use strict";t.r(e);var l=t("keVe"),o=function(){return function(){}}(),i=t("fYis"),u=t("1ob4"),r=t("6CUI"),a=t.n(r),c=function(){function n(n,e,t){this.navigationService=n,this.route=e,this.router=t,this.receiving=!1}return Object.defineProperty(n.prototype,"mainVideoEl",{set:function(n){this.videoPlayer=n.nativeElement},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.navigationService.showBackButton=!0,this.id=this.route.snapshot.paramMap.get("id"),this.connect()},n.prototype.connect=function(){var n=this;this.peer=new a.a,this.peer.on("open",function(){console.log("PeerID:",n.peer.id)}),this.peer.on("connection",function(n){n.on("data",function(n){console.log("Data from connection",n)})}),this.peer.on("error",function(n){console.error(n)});var e=function(){var n=new(window.AudioContext||window.webkitAudioContext||!1),e=n.createOscillator(),t=e.connect(n.createMediaStreamDestination());e.start();var l=t.stream.getAudioTracks()[0];return Object.assign(l,{enabled:!1})}(),t=function(n){var e=n.width,t=n.height,l=Object.assign(document.createElement("canvas"),{width:e,height:t});l.getContext("2d").fillRect(0,0,e,t);var o=l.captureStream().getVideoTracks()[0];return Object.assign(o,{enabled:!1})}({width:1280,height:720}),l=new MediaStream([e,t]),o=this.peer.call("NUTUBE_NETWORK_"+this.id,l);console.log("call",o),o.on("stream",function(e){console.log("remoteStream",e),n.receiving=!0,n.videoPlayer.srcObject=e,n.videoPlayer.play(),n.remoteStream=e}),o.on("error",function(n){console.log("Error",n)})},n}(),s=t("X+PR"),b=l.lb({encapsulation:0,styles:[[""]],data:{}});function d(n){return l.Bb(0,[l.yb(402653184,1,{mainVideoEl:0}),(n()(),l.nb(1,0,null,null,7,"div",[["class","container mt-4"]],null,null,null,null,null)),(n()(),l.nb(2,0,null,null,3,"h4",[],null,null,null,null,null)),(n()(),l.nb(3,0,null,null,1,"span",[["class","badge badge-danger text-blink"]],null,null,null,null,null)),(n()(),l.Ab(-1,null,["LIVE!"])),(n()(),l.Ab(-1,null,[" Music Concert - Anastagia"])),(n()(),l.nb(6,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),l.nb(7,0,[[1,0],["videoPlayer",1]],null,1,"video",[["controls",""],["height","420"],["width","100%"]],[[8,"hidden",0]],null,null,null,null)),(n()(),l.Ab(-1,null,[" Your browser does not support the video tag. "]))],null,function(n,e){n(e,7,0,!e.component.receiving)})}function h(n){return l.Bb(0,[(n()(),l.nb(0,0,null,null,1,"app-view",[],null,null,null,d,b)),l.mb(1,114688,null,0,c,[u.a,s.a,s.k],null,null)],function(n,e){n(e,1,0)},null)}var p=l.jb("app-view",c,h,{},{},[]),f=t("TOqr"),g=function(){return function(){}}();t.d(e,"ViewModuleNgFactory",function(){return v});var v=l.kb(o,[],function(n){return l.tb([l.ub(512,l.j,l.ab,[[8,[i.a,p]],[3,l.j],l.x]),l.ub(4608,f.i,f.h,[l.u,[2,f.o]]),l.ub(1073742336,f.b,f.b,[]),l.ub(1073742336,s.n,s.n,[[2,s.t],[2,s.k]]),l.ub(1073742336,g,g,[]),l.ub(1073742336,o,o,[]),l.ub(1024,s.i,function(){return[[{path:"",component:c}]]},[])])})}}]);